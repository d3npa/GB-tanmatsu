#!/usr/bin/env python2
# -*- coding: utf-8 -*-

# dumped from Pocket Monsters - Crystal Version (Japan)
string = """
0000000000000000000000000000000010102828282844447C7C828282820000F8F884848484FCFC82828282FCFC00003C3C424280808080808042423C3C0000F8F884848282828282828484F8F80000FEFE80808080FCFC80808080FEFE0000FEFE80808080FCFC80808080808000003C3C424280809E9E828242423C3C0000828282828282FEFE82828282828200007C7C101010101010101010107C7C00007E7E0808080888888888888870700000848488889090B0B0C8C8848482820000808080808080808080808080FEFE00008282C6C6AAAA929282828282828200008282C2C2A2A292928A8A86868282000038384444828282828282444438380000FCFC82828282FCFC808080808080000038384444828282828A8A44443A3A0000FCFC82828282FCFC88888484828200007878848480807C7C020282827C7C0000FEFE10101010101010101010101000008282828282828282828242423E3E000082828282444444442828282810100000828282829292AAAAC6C6C6C682820000C6C644442828101028284444C6C6000082824444282810101010101010100000FEFE04040808101020204040FEFE00000C0C101020202020202010100C0C00006060101008080808080810106060000000001818181800000000181818180000000018181818000018181818080810101C1C101010101010101010101C1C00007070101010101010101010107070000000000000383804043C3C44443E3E00004040404040407C7C424242427C7C0000000000003E3E4040404040403E3E00000202020202023E3E424242423E3E0000000000003C3C42427E7E40403E3E00000C0C121210107E7E1010101010100000000000003E3E424242423E3E02027C7C404040404040787844444444444400000000101000001010101010101010000000000808000008080808080808083030404040404646585860605858464600001010101010101010101010101010000000000000ECEC92929292929292920000000000003C3C22222222222222220000000000003C3C4242424242423C3C0000000000007C7C424242427C7C40404040000000003E3E424242423E3E02020202000000004E4E50506060404040400000000000003C3C40403C3C02027C7C0000000010107C7C1010101010100C0C00000000000044444444444444443C3C00000000000044444444444428281010000000000000828292929292AAAA4444000000000000C4C428281010282846460000000000004444444444443C3C04047878000000007E7E0404181820207E7E00000000FEFE020212121C1C1010101060600404040408083030D0D010101010101010101010FEFE8282828202020404181800007C7C10101010101010101010FEFE08080808FEFE18182828484888881818202020207E7E22222222222242428C8C1010FEFE10101010FEFE10101010101000007C7C444484840404040408087070404040407E7E444484840404080830300000FCFC04040404040404040404FCFC44444444FEFE44444444040404043838000070700202727202020202040478780000FCFC04040404080818182424C2C240404040FEFE42424444404040403C3C0000828282824242040404040808303000007E7E424272728E8E020204043838060678780808FEFE08080808101060600000525252525252020202020404383800007C7C0000FEFE08080808080830302020202020203C3C222220202020202008080808FEFE0808080808081010606000007C7C00000000000000000000FEFE0000FEFE02020202141408081414626210101010FEFE040418183434D2D210100000020202020202040404041818606000000000484844444444424282828282808080808C8CF0F08080808080807E7E0000FEFE02020202040404040808303010101010FEFE101054545252525292920000FEFE020202024444282810100808787800000000787800000000F0F00C0C0000202020202020444444448282FEFE000004042424141408080C0C3232C0C00000FCFC20202020FEFE202020201E1E00002020FEFE222224242828202020200000787808080808080808080808FEFE0000FEFE020202027E7E02020202FEFE00007C7C0000FEFE020204040808303000005050505050505050505052529C9C0000404040404040424244445858606000000000FEFE8282828282828282FEFE0000FEFE8282828282820202040438380000FEFE020202027E7E0202040478780000E2E202020202020202020404F8F8000000000000A8A8A8A80808101060600000000000004040F8F84848505040400000000000000000707010101010F8F8000000000000F0F01010F0F01010F0F0000000000000080810107070101010102020FCFC20203C3C6666AAAA929264640000848482828282828282825050202078780000383844440404040408083030303000007C7C080810103838484886862222FAFA20203C3C6262A2A2A2A2646440404444F2F24A4A48488888080830301010FEFE0808FEFE04048C8C80807C7C08081010202040404040202010100808040484849E9E8484848484848484080800007C7C020200000000000080807E7E20201010FEFE08087C7C808080807C7C404040404040404040404444444438380404FEFE04043C3C44443C3C0404181844444444FEFE44444444484840403C3C7C7C10102020FEFE1010202020201C1C20202020FCFC40405E5E404090908E8E20202020FCFC40407C7C424202021C1C000000007C7C020202020202040438380000FEFE0C0C10102020202010100C0C202020202C2C30304040808080807E7E20202424F2F2404084843C3C4646383800009E9E808080808080A0A0A0A09E9E080848485C5C6A6AD2D2A6A6AAAA4E4E20202020ECEC323222226666AAAA2E2E0000383854549292929292929292646404049E9E848484849C9CA6A6A4A498980000F0F02424464644448C8C88887070000038380808101048488A8A8A8A3030000000002020505088880404020200001E1E84849E9E84849C9CA6A6A4A4989804043E3E04043E3E04043C3C46463C3C7070101014147E7E9494A4A4A4A448482020F2F222226060A0A0A2A262623C3C0808484858586C6CAAAA9292B2B2444420202020F8F82020F8F8202022221C1C48484848FCFC424252524C4C202020200808BCBCCACA8A8A8A8AAAAA1C1C2020080808080E0E08080808FCFC8A8A707030300C0C40405C5C6262020202023C3C444444444444444444440404080830307C7C080830307C7C828232324A4A3C3C20202020ECEC323222226464A4A422227C7C080830307C7C8282020202023C3C20202020ECECB2B222226262A2A2242410107878202034345858282820201C1C10101010202020207070484888888686000000000000F0F008080808101060600000000050507878D4D4444428282020000000001010B8B8D4D49494383810100000000010101818101070709898707000000000000000007E7E000000000000000000000000000000000E0E0A0A0E0E0000000000000000000004041212080800007E7EE7E7CECE181800001818181818183C3C3C3C3C3C181800001818181800000000000000000000707050507070000000000000F8F808082828303040400000000000002020F8F88888101060600000000000000000707020202020F8F80000606050504848444448485050606000006060707078787C7C7878707060600000FEFEFEFE7C7C3838101000000000101038385454929238384444444438380000FEFE92929292FEFE8282828286860000000044442828101028284444000000000000000000000000303030300000000002020404080810102020404080800000000000001010F8F8303050509090383844444444383810107C7C101010100000000038384C4CC6C6C6C66464383800000000181838381818181818187E7E000000007C7CC6C60E0E7878E0E0FEFE000000007E7E0C0C38380606C6C67C7C000000001C1C3C3C6C6CCCCCFEFE0C0C00000000FCFCC0C0FCFC0606C6C67C7C000000007C7CC0C0FCFCC6C6C6C67C7C00000000FEFEC6C60C0C181830303030000000007C7CC6C67C7CC6C6C6C67C7C000000007C7CC6C6C6C67E7E06067C7C
1818181808081010000000000000000000000000000000007E7E00000000000030306868686832325A5ACCCC7A7A0000
"""[1:-1].replace("\n", "")
palette = """
空 A B C D E F G H I J K L M N O P Q R S T U V W X Y Z ( ) : ; [ ] a b c d e f g h i j k l m n o p q r s t u v w x y z 
ア イ ウ エ オ カ キ ク ケ コ サ シ ス セ ソ タ チ ツ テ ト ナ ニ ヌ ネ ノ ハ ヒ フ ホ マ ミ ム メ モ ヤ ユ ヨ ラ ル レ ロ ワ ヲ ン ッ ャ ュ ョ ィ 
あ い う え お か き く け こ さ し す せ そ た ち つ て と な に ぬ ね の は ひ ふ へ ほ ま み む め も や ゆ よ ら り る れ ろ わ を ん っ ゃ ゅ ょ ー 
゜ ゛ ？ ！ 。 ァ ゥ ェ ▷ ▶ 下 男 円 ｘ . / ォ 女 0 1 2 3 4 5 6 7 8 9 ' - &
"""[1:-1].replace("\n", "").split(" ")
order = """
空 a b c d e f g h i j k l m n o p q r s t u v w x y z A B C D E F G H I J K L M N O P Q R S T U V W X Y Z 1 2 3 4 5 6 7 8 9 0 
あ い う え お か き く け こ た ち つ て と さ し す せ そ ま み む め も な に ぬ ね の は ひ ふ へ ほ ら り る れ ろ や ゆ よ わ ゐ ゑ を ん っ ゃ ゅ ょ 
ア イ ウ エ オ カ キ ク ケ コ タ チ ツ テ ト サ シ ス セ ソ マ ミ ム メ モ ナ ニ ヌ ネ ノ ハ ヒ フ ヘ ホ ラ リ ル レ ロ ヤ ユ ヨ ワ ヰ ヱ ヲ ン ッ ャ ュ ョ ァ ィ ゥ ェ ォ 
　 ー ゛ ゜ ？ ！ 。 . / 円 ▷ ▶ 下 男 女 円 ｘ ' - & ( ) [ ] : ;
"""[1:-1].replace("\n", "").split(" ")
# print order

data = ""
offset = 0
while offset < len(string):
    data += (string[offset] + string[offset+1]).decode("hex")
    offset += 2

index = 0
offset = 0
output = []
# orderに従ってoutputを生成します
while offset < len(data):
    tile = data[offset:offset+16]
    offset += 16
    db = "\tdb\t"
    for byte in tile:
        db += "$" + byte.encode("hex") + ", "
    index += 1
    character = palette[index-1]
    if character in order:
        output.append(db[:-2] + " ; $" + hex(order.index(palette[index-1]))[2:].zfill(2).upper() + " | " + palette[index-1] + "\n")
    # output += db[:-2] + " ; $" + hex(order.index(palette[index-1]))[2:].zfill(2).upper() + " | " + palette[index-1] + "\n"
output = sorted(output, key=lambda line: int(line[86:88], 16))

# dataには無かった文字をゼロ化する
for index in range(len(order)):
    character = order[index]
    line_character = output[index].split(" | ")[1][:-1]
    if character != line_character:
        unknown_character = "\tdb\t$00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00, $00 ; $"
        unknown_character += hex(index)[2:].zfill(2).upper() + " | " + character + "\n"
        output.insert(index, unknown_character)

for line in output:
    print line.replace("\tdb\t", "    db  "),
